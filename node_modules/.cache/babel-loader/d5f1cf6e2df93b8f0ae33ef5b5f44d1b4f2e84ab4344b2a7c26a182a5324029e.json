{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-b9f7a94a\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"view-main-content\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"view-main-content-heading\"\n}, \"Fragen erstellen\", -1 /* HOISTED */));\nconst _hoisted_3 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"form\", null, [_createElementVNode(\"div\", null, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"fragestellung\",\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.frageFragestellung = $event),\n    required: \"\",\n    placeholder: \"Frage\",\n    class: \"view-main-content-textfield\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.frageFragestellung]])]), _createElementVNode(\"div\", null, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"antworten\",\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.frageAntwortoptionen = $event),\n    required: \"\",\n    placeholder: \"Antwortoptionen\",\n    class: \"view-main-content-textfield\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.frageAntwortoptionen]])]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = $event => $setup.addFrage()),\n    disabled: $setup.addingFrage,\n    class: \"view-main-content-advanceBtn\"\n  }, \"Frage hinzufügen\", 8 /* PROPS */, _hoisted_3)]), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = $event => (this.$router.push('/umfrageWurdeErstellt'), $setup.sessionReset())),\n    class: \"view-main-content-advanceBtn\"\n  }, \"Fertig (SessionStorage löschen!)\")]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","id","type","$setup","frageFragestellung","$event","required","placeholder","frageAntwortoptionen","onClick","_cache","addFrage","disabled","addingFrage","_hoisted_3","$router","push","sessionReset"],"sources":["/Users/aleks/Desktop/Git-Projects/Project-2/src/views/FragenErstellen.vue"],"sourcesContent":["<template>\n    <div class=\"view-main-content\">\n      <h1 class=\"view-main-content-heading\">Fragen erstellen</h1>\n      <form>\n        <div>\n          <input id=\"fragestellung\" type=\"text\" v-model=\"frageFragestellung\" required placeholder=\"Frage\" class=\"view-main-content-textfield\">\n        </div>\n        \n        <div>\n          <input id=\"antworten\" type=\"text\" v-model=\"frageAntwortoptionen\" required placeholder=\"Antwortoptionen\" class=\"view-main-content-textfield\">\n        </div>\n        <button @click=\"addFrage()\" :disabled=\"addingFrage\" class=\"view-main-content-advanceBtn\">Frage hinzufügen</button>\n      </form>\n\n      <button  @click=\"this.$router.push('/umfrageWurdeErstellt'), sessionReset()\" class=\"view-main-content-advanceBtn\">Fertig (SessionStorage löschen!)</button>\n  </div>\n</template>\n\n<style scoped>\n  .view-main-content form {\n    display: flex;\n    flex-direction: column;\n    width: 35vw;\n  }\n\n  .view-main-content form input {\n    width: 100%;\n  }\n  .view-main-content .view-main-content-advanceBtn {\n    width: 15vw;\n  }\n</style>\n\n<script setup>\n  import { ref, computed, onMounted, resolveDirective } from 'vue'\n  import { doc, addDoc, collection, setDoc} from 'firebase/firestore';\n  import { db } from '@/firebase'\n  const umfragenCollectionRef = collection(db, 'AlleUmfragen', sessionStorage.getItem('EMailAdmin'), 'Umfragen')\n  const frageFragestellung = ref('')\n  const frageAntwortoptionen = ref('')\n  const addingFrage = ref(false)\n\n  const addFrage = async () => {\n    addingFrage.value = true\n    try {\n      console.log(\"\")\n      const umfrageDocRef = doc(umfragenCollectionRef, sessionStorage.getItem('umfragenName'))\n      const fragenCollectionRef = collection(umfrageDocRef, 'Fragen')\n      console.log(\"FragenCollectionRef: \" + fragenCollectionRef)\n      const optionsArray = frageAntwortoptionen.value.split(';').map(option => option.trim());\n      await addDoc(fragenCollectionRef, {\n        question: frageFragestellung.value,\n        options: optionsArray,\n        selected: []\n      })\n    } catch (error) {\n      console.error(error)\n    } finally {\n      addingFrage.value = false\n    }\n    frageFragestellung.value = ''\n    frageAntwortoptionen.value = ''\n  }\n/*\n  const addFrage = async () => {\n    const selected = []\n    console.log(\"\")\n    const umfrageDocRef = doc(umfragenCollectionRef, sessionStorage.getItem('umfragenName'))\n        const fragenCollectionRef = collection(umfrageDocRef, 'Fragen')\n        console.log(\"FragenCollectionRef: \" + fragenCollectionRef)\n        await addDoc(fragenCollectionRef, {\n           question: frageFragestellung.value,\n           options: frageAntwortoptionen.value,\n           selected: selected\n        })\n    }\n*/\n    const sessionReset = () => {\n        sessionStorage.removeItem('umfragenName')\n    }\n    \n</script>"],"mappings":";;;;EACSA,KAAK,EAAC;AAAmB;gEAC5BC,mBAAA,CAA2D;EAAvDD,KAAK,EAAC;AAA2B,GAAC,kBAAgB;;;uBADxDE,mBAAA,CAcI,OAdJC,UAcI,GAbFC,UAA2D,EAC3DH,mBAAA,CASO,eARLA,mBAAA,CAEM,c,gBADJA,mBAAA,CAAoI;IAA7HI,EAAE,EAAC,eAAe;IAACC,IAAI,EAAC,MAAM;+DAAUC,MAAA,CAAAC,kBAAkB,GAAAC,MAAA;IAAEC,QAAQ,EAAR,EAAQ;IAACC,WAAW,EAAC,OAAO;IAACX,KAAK,EAAC;iDAAvDO,MAAA,CAAAC,kBAAkB,E,KAGnEP,mBAAA,CAEM,c,gBADJA,mBAAA,CAA4I;IAArII,EAAE,EAAC,WAAW;IAACC,IAAI,EAAC,MAAM;+DAAUC,MAAA,CAAAK,oBAAoB,GAAAH,MAAA;IAAEC,QAAQ,EAAR,EAAQ;IAACC,WAAW,EAAC,iBAAiB;IAACX,KAAK,EAAC;iDAAnEO,MAAA,CAAAK,oBAAoB,E,KAEjEX,mBAAA,CAAkH;IAAzGY,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAL,MAAA,IAAEF,MAAA,CAAAQ,QAAQ;IAAKC,QAAQ,EAAET,MAAA,CAAAU,WAAW;IAAEjB,KAAK,EAAC;KAA+B,kBAAgB,iBAAAkB,UAAA,E,GAG3GjB,mBAAA,CAA2J;IAAjJY,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAL,MAAA,UAAOU,OAAO,CAACC,IAAI,2BAA2Bb,MAAA,CAAAc,YAAY;IAAIrB,KAAK,EAAC;KAA+B,kCAAgC,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}