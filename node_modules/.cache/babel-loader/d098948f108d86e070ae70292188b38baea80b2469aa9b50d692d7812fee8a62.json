{"ast":null,"code":"import { ref, computed, onMounted, resolveDirective } from 'vue';\nimport { collection, onSnapshot, doc, updateDoc, FieldValue, arrayUnion, getFirestore, QuerySnapshot } from 'firebase/firestore';\nimport { db } from '@/firebase';\nexport default {\n  __name: 'UmfragenÜbersicht',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const nameUserLaden = () => {\n      username = sessionStorage.getItem('EMailAdmin');\n      return username;\n    };\n    let username = '';\n    const umfragenNamen = ref([]);\n    const EMailAdmin = sessionStorage.getItem('EMailAdmin');\n    //const umfragenCollectionRef = collection(db,'AlleUmfragen', EMailAdmin, 'Umfragen')\n    //const umfragenCollectionRef2 = collection('AlleUmfragen').doc(sessionStorage.getItem('EMailAdmin'))\n    const umfragenRef = collection(db, 'AlleUmfragen').doc(EMailAdmin);\n    let namen = [];\n    onMounted(() => {\n      console.log(\"EMail des Admins: \" + sessionStorage.getItem('EMailAdmin'));\n      umfragenRef.get().then(querySnapshot => {\n        querySnapshot.forEach(doc => {\n          console.log(doc);\n        });\n      });\n      // onSnapshot(umfragenCollectionRef, (querySnapshot) => {\n      //     console.log(\"Komme ich hierhin?!\")\n      //     querySnapshot.forEach((doc) => {\n      //         namen.push(doc.id)\n      //         console.log(\"Was ist die doc.id: \" + doc.id)\n      //     })\n      //     console.log(\"onMounted aufgerufen?\" + namen[0])\n      // })\n      umfragenNamen.value = namen;\n    });\n    const namenAnzeigen = () => {\n      let ausgabe = 'Test';\n      if (umfragenNamen.value.length != undefined) {\n        console.log(\"namenAnzeigen aufgerufen\" + umfragenNamen.value);\n        for (let x = 0; x < umfragenNamen.value.length; x++) {\n          console.log(\"Komme ich hierhin?!!\");\n          ausgabe = ausgabe + '<br>' + umfragenNamen.value[x];\n        }\n      } else {\n        console.log(\"Fehler\");\n      }\n      document.getElementById('übersicht').innerHTML = ausgabe;\n    };\n    const __returned__ = {\n      nameUserLaden,\n      get username() {\n        return username;\n      },\n      set username(v) {\n        username = v;\n      },\n      umfragenNamen,\n      EMailAdmin,\n      umfragenRef,\n      get namen() {\n        return namen;\n      },\n      set namen(v) {\n        namen = v;\n      },\n      namenAnzeigen,\n      ref,\n      computed,\n      onMounted,\n      resolveDirective,\n      get collection() {\n        return collection;\n      },\n      get onSnapshot() {\n        return onSnapshot;\n      },\n      get doc() {\n        return doc;\n      },\n      get updateDoc() {\n        return updateDoc;\n      },\n      get FieldValue() {\n        return FieldValue;\n      },\n      get arrayUnion() {\n        return arrayUnion;\n      },\n      get getFirestore() {\n        return getFirestore;\n      },\n      get QuerySnapshot() {\n        return QuerySnapshot;\n      },\n      get db() {\n        return db;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","resolveDirective","collection","onSnapshot","doc","updateDoc","FieldValue","arrayUnion","getFirestore","QuerySnapshot","db","nameUserLaden","username","sessionStorage","getItem","umfragenNamen","EMailAdmin","umfragenRef","namen","console","log","get","then","querySnapshot","forEach","value","namenAnzeigen","ausgabe","length","undefined","x","document","getElementById","innerHTML"],"sources":["/Users/aleks/Desktop/Git-Projects/Project-2/src/views/UmfragenÜbersicht.vue"],"sourcesContent":["<template>\n    <div>\n        Derzeit laufende Umfragen, welche von {{ nameUserLaden() }} erstellt wurden:\n    </div>\n\n    <button @click=\"namenAnzeigen()\">Namen anzeigen</button>\n\n    <div id=\"übersicht\"></div>\n</template>\n\n<script setup>\n    import { ref, computed, onMounted, resolveDirective } from 'vue'\n    import {collection, onSnapshot, doc, updateDoc, FieldValue, arrayUnion, getFirestore, QuerySnapshot} from 'firebase/firestore';\n    import { db } from '@/firebase'\n    const nameUserLaden = () => {\n        username = sessionStorage.getItem('EMailAdmin')\n        return username\n    }\n\n    let username = ''\n    const umfragenNamen = ref([])\n    const EMailAdmin = sessionStorage.getItem('EMailAdmin')\n    //const umfragenCollectionRef = collection(db,'AlleUmfragen', EMailAdmin, 'Umfragen')\n    //const umfragenCollectionRef2 = collection('AlleUmfragen').doc(sessionStorage.getItem('EMailAdmin'))\n    const umfragenRef = collection(db, 'AlleUmfragen').doc(EMailAdmin)\n    let namen = []\n \n    onMounted(() => {\n        console.log(\"EMail des Admins: \" + sessionStorage.getItem('EMailAdmin'))\n        umfragenRef.get().then(querySnapshot => {\n            querySnapshot.forEach(doc => {\n                console.log(doc)\n            })\n        })\n        // onSnapshot(umfragenCollectionRef, (querySnapshot) => {\n        //     console.log(\"Komme ich hierhin?!\")\n        //     querySnapshot.forEach((doc) => {\n        //         namen.push(doc.id)\n        //         console.log(\"Was ist die doc.id: \" + doc.id)\n        //     })\n        //     console.log(\"onMounted aufgerufen?\" + namen[0])\n        // })\n        umfragenNamen.value = namen\n    })\n\n    const namenAnzeigen = () => {\n        let ausgabe = 'Test'\n        if(umfragenNamen.value.length != undefined){\n            console.log(\"namenAnzeigen aufgerufen\" + umfragenNamen.value)\n            for (let x = 0; x < umfragenNamen.value.length; x++) {\n                console.log(\"Komme ich hierhin?!!\")\n            ausgabe = ausgabe + '<br>' + umfragenNamen.value[x]\n            }\n        } else {\n            console.log(\"Fehler\")\n        }\n        document.getElementById('übersicht').innerHTML = ausgabe\n    }\n</script>"],"mappings":"AAWI,SAASA,GAAG,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,gBAAgB,QAAQ,KAAK;AAChE,SAAQC,UAAU,EAAEC,UAAU,EAAEC,GAAG,EAAEC,SAAS,EAAEC,UAAU,EAAEC,UAAU,EAAEC,YAAY,EAAEC,aAAa,QAAO,oBAAoB;AAC9H,SAASC,EAAE,QAAQ,YAAY;;;;;;;IAC/B,MAAMC,aAAa,GAAGA,CAAA,KAAM;MACxBC,QAAQ,GAAGC,cAAc,CAACC,OAAO,CAAC,YAAY,CAAC;MAC/C,OAAOF,QAAQ;IACnB,CAAC;IAED,IAAIA,QAAQ,GAAG,EAAE;IACjB,MAAMG,aAAa,GAAGjB,GAAG,CAAC,EAAE,CAAC;IAC7B,MAAMkB,UAAU,GAAGH,cAAc,CAACC,OAAO,CAAC,YAAY,CAAC;IACvD;IACA;IACA,MAAMG,WAAW,GAAGf,UAAU,CAACQ,EAAE,EAAE,cAAc,CAAC,CAACN,GAAG,CAACY,UAAU,CAAC;IAClE,IAAIE,KAAK,GAAG,EAAE;IAEdlB,SAAS,CAAC,MAAM;MACZmB,OAAO,CAACC,GAAG,CAAC,oBAAoB,GAAGP,cAAc,CAACC,OAAO,CAAC,YAAY,CAAC,CAAC;MACxEG,WAAW,CAACI,GAAG,EAAE,CAACC,IAAI,CAACC,aAAa,IAAI;QACpCA,aAAa,CAACC,OAAO,CAACpB,GAAG,IAAI;UACzBe,OAAO,CAACC,GAAG,CAAChB,GAAG,CAAC;QACpB,CAAC,CAAC;MACN,CAAC,CAAC;MACF;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAW,aAAa,CAACU,KAAK,GAAGP,KAAK;IAC/B,CAAC,CAAC;IAEF,MAAMQ,aAAa,GAAGA,CAAA,KAAM;MACxB,IAAIC,OAAO,GAAG,MAAM;MACpB,IAAGZ,aAAa,CAACU,KAAK,CAACG,MAAM,IAAIC,SAAS,EAAC;QACvCV,OAAO,CAACC,GAAG,CAAC,0BAA0B,GAAGL,aAAa,CAACU,KAAK,CAAC;QAC7D,KAAK,IAAIK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGf,aAAa,CAACU,KAAK,CAACG,MAAM,EAAEE,CAAC,EAAE,EAAE;UACjDX,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;UACvCO,OAAO,GAAGA,OAAO,GAAG,MAAM,GAAGZ,aAAa,CAACU,KAAK,CAACK,CAAC,CAAC;QACnD;MACJ,CAAC,MAAM;QACHX,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;MACzB;MACAW,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC,CAACC,SAAS,GAAGN,OAAO;IAC5D,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}