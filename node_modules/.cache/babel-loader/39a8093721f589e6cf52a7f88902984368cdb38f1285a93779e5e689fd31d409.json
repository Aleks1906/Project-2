{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, computed, onMounted, resolveDirective } from 'vue';\nimport { collection, onSnapshot, doc, updateDoc, FieldValue, arrayUnion, getFirestore } from 'firebase/firestore';\nimport { db } from '@/firebase';\nexport default {\n  __name: 'UmfragenÜbersichtUser',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const umfragenCollectionRef = collection(db, 'AlleUmfragen');\n    const admins = ref([]);\n    let umfragen = ref([]);\n    //let umfragenLength = 0\n\n    onMounted(() => {\n      onSnapshot(umfragenCollectionRef, querySnapshot => {\n        const allAdmins = [];\n        querySnapshot.forEach(doc => {\n          console.log(\"All Aminds \" + doc.id);\n          allAdmins.push(doc.id);\n          console.log(\"allAdmins\" + allAdmins);\n        });\n        admins.value = allAdmins;\n        console.log(\"Admins.value \" + admins.value);\n        admins.value.forEach(admin => {\n          const allSurveys = [];\n          const adminCollectionRef = collection(db, 'AlleUmfragen', admin, 'Umfragen');\n          console.log(\"Admincollectionref \" + adminCollectionRef);\n          onSnapshot(adminCollectionRef, querySnapshot => {\n            querySnapshot.forEach(doc => {\n              allSurveys.push(doc.id);\n            });\n            console.log(allSurveys);\n            umfragen.value.push(allSurveys);\n            document.getElementById('alleUmfragen').innerHTML = '';\n            setTimeout(() => {\n              // console.log('This code will be executed after 2 seconds.');\n            }, 2000);\n            for (let i = 0; i < umfragen.value.length; i++) {\n              console.log('Umfragenvalue ' + umfragen.value[i]);\n              for (let j = 0; j < umfragen.value[i].length; j++) {\n                console.log('Umfrage ' + umfragen.value[i][j]);\n                let umfrage = umfragen.value[i][j];\n                document.getElementById('alleUmfragen').innerHTML += '<button>' + umfrage + '</button>' + '<br>';\n              }\n            }\n            // for (const umfragen_ in umfragen.value) {\n            //     console.log('Umfragen_ ' + umfragen_.toString())\n            //     for(const umfrage in umfragen_){\n            //         console.log(\"Umfrage \" + umfrage)\n            //         document.getElementById('alleUmfragen').innerHTML = '<button>' + umfrage + '</button>'\n            //     }\n            // }\n            console.log(umfragen.value.length);\n            // if(umfragen.value.length > 0){\n            //     console.log(\"Passiert hier was?\")\n            //     location.reload()\n            // }\n          });\n\n          umfragen.value = [];\n          //umfragenLength = umfragen.value.length\n        });\n\n        console.log(\"Umfragen.value.length \" + umfragen.value[0]);\n      });\n    });\n    const __returned__ = {\n      umfragenCollectionRef,\n      admins,\n      get umfragen() {\n        return umfragen;\n      },\n      set umfragen(v) {\n        umfragen = v;\n      },\n      ref,\n      computed,\n      onMounted,\n      resolveDirective,\n      get collection() {\n        return collection;\n      },\n      get onSnapshot() {\n        return onSnapshot;\n      },\n      get doc() {\n        return doc;\n      },\n      get updateDoc() {\n        return updateDoc;\n      },\n      get FieldValue() {\n        return FieldValue;\n      },\n      get arrayUnion() {\n        return arrayUnion;\n      },\n      get getFirestore() {\n        return getFirestore;\n      },\n      get db() {\n        return db;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","resolveDirective","collection","onSnapshot","doc","updateDoc","FieldValue","arrayUnion","getFirestore","db","umfragenCollectionRef","admins","umfragen","querySnapshot","allAdmins","forEach","console","log","id","push","value","admin","allSurveys","adminCollectionRef","document","getElementById","innerHTML","setTimeout","i","length","j","umfrage"],"sources":["/Users/aleks/Desktop/Git-Projects/Project-2/src/views/UmfragenÜbersichtUser.vue"],"sourcesContent":["<template>\n    <h1>Übersicht aller Umfragen</h1>\n\n    <div id=\"alleUmfragen\"></div>\n    <!--\n    <div v-for=\"umfragenarray in umfragen\">\n        <div v-for=\"umfrage in umfragenarray\">\n            {{ umfrage }}\n        </div>\n    </div>\n-->\n\n</template>\n\n<script setup>\n    import { ref, computed, onMounted, resolveDirective } from 'vue'\n    import {collection, onSnapshot, doc, updateDoc, FieldValue, arrayUnion, getFirestore} from 'firebase/firestore';\n    import { db } from '@/firebase'\n \n    const umfragenCollectionRef = collection(db,'AlleUmfragen')\n    const admins = ref([])\n    let umfragen = ref([])\n    //let umfragenLength = 0\n\n    onMounted(() => {\n        onSnapshot(umfragenCollectionRef, (querySnapshot) => {\n            const allAdmins = []\n            querySnapshot.forEach((doc) => {\n                \n                console.log(\"All Aminds \" + doc.id)\n                allAdmins.push(doc.id)\n                console.log( \"allAdmins\" + allAdmins)\n            })\n            admins.value = allAdmins\n            console.log(\"Admins.value \" + admins.value)\n            admins.value.forEach((admin) => {\n                const allSurveys = []\n                const adminCollectionRef = collection(db, 'AlleUmfragen', admin, 'Umfragen')\n                console.log(\"Admincollectionref \" + adminCollectionRef)\n                onSnapshot(adminCollectionRef, (querySnapshot) => {\n                    querySnapshot.forEach((doc) => {\n                        allSurveys.push(doc.id)\n                        \n                    })\n                    console.log(allSurveys)\n                    umfragen.value.push(allSurveys)\n                    document.getElementById('alleUmfragen').innerHTML = ''\n                    setTimeout(() => {\n                        // console.log('This code will be executed after 2 seconds.');\n                    }, 2000);\n                    for(let i = 0; i < umfragen.value.length; i++){\n                        console.log('Umfragenvalue ' + umfragen.value[i])\n                        for(let j = 0; j < umfragen.value[i].length; j++){\n                            console.log('Umfrage ' + umfragen.value[i][j])\n                            let umfrage = umfragen.value[i][j]\n                            document.getElementById('alleUmfragen').innerHTML += '<button>' + umfrage + '</button>' + '<br>'\n                        }\n                    }\n                    // for (const umfragen_ in umfragen.value) {\n                    //     console.log('Umfragen_ ' + umfragen_.toString())\n                    //     for(const umfrage in umfragen_){\n                    //         console.log(\"Umfrage \" + umfrage)\n                    //         document.getElementById('alleUmfragen').innerHTML = '<button>' + umfrage + '</button>'\n                    //     }\n                    // }\n                    console.log(umfragen.value.length)\n                    // if(umfragen.value.length > 0){\n                    //     console.log(\"Passiert hier was?\")\n                    //     location.reload()\n                    // }\n                })\n                umfragen.value = []\n                //umfragenLength = umfragen.value.length\n            })\n            console.log(\"Umfragen.value.length \" + umfragen.value[0])\n            \n        })\n    })\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}