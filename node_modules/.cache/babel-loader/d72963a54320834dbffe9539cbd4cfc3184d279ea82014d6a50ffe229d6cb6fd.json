{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Übersicht aller Umfragen\", -1 /* HOISTED */);\nconst _hoisted_2 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, $setup.umfragen.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.umfragen, umfragenarray => {\n    return _openBlock(), _createElementBlock(\"div\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(umfragenarray, umfrage => {\n      return _openBlock(), _createElementBlock(\"div\", null, _toDisplayString(umfrage), 1 /* TEXT */);\n    }), 256 /* UNKEYED_FRAGMENT */))]);\n  }), 256 /* UNKEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","_hoisted_1","$setup","umfragen","length","_createElementBlock","_hoisted_2","_Fragment","_renderList","umfragenarray","umfrage","_toDisplayString"],"sources":["/Users/aleks/Desktop/Git-Projects/Project-2/src/views/UmfragenÜbersichtUser.vue"],"sourcesContent":["<template>\n    <h1>Übersicht aller Umfragen</h1>\n    <div v-if=\"umfragen.length\">\n    <div v-for=\"umfragenarray in umfragen\">\n        <div v-for=\"umfrage in umfragenarray\">\n            {{ umfrage }}\n        </div>\n    </div>\n</div>\n</template>\n\n<script setup>\n    import { ref, computed, onMounted, resolveDirective, watch } from 'vue'\n    import {collection, onSnapshot, doc, updateDoc, FieldValue, arrayUnion, getFirestore} from 'firebase/firestore';\n    import { db } from '@/firebase'\n \n    const umfragenCollectionRef = collection(db,'AlleUmfragen')\n    const admins = ref([])\n    const umfragen = ref([])\n\n    onMounted(() => {\n        onSnapshot(umfragenCollectionRef, (querySnapshot) => {\n            const allAdmins = []\n            querySnapshot.forEach((doc) => {\n                \n                console.log(\"All Aminds \" + doc.id)\n                allAdmins.push(doc.id)\n                console.log( \"allAdmins\" + allAdmins)\n            })\n            admins.value = allAdmins\n            console.log(\"Admins.value \" + admins.value)\n            admins.value.forEach((admin) => {\n                const allSurveys = []\n                const adminCollectionRef = collection(db, 'AlleUmfragen', admin, 'Umfragen')\n                console.log(\"Admincollectionref \" + adminCollectionRef)\n                onSnapshot(adminCollectionRef, (querySnapshot) => {\n                    querySnapshot.forEach((doc) => {\n                        allSurveys.push(doc.id)\n                        \n                    })\n                    console.log(allSurveys)\n                    umfragen.value.push(allSurveys)\n                    console.log(umfragen.value.length)\n                    // if(umfragen.value.length > 0){\n                    //     console.log(\"Passiert hier was?\")\n                    //     location.reload()\n                    // }\n                })\n            })\n            console.log(\"Umfragen.value.length \" + umfragen.value[0])\n            \n        })\n    })\n    watch(() => umfragen.value, () => {\n\n    })\n</script>"],"mappings":";gCACIA,mBAAA,CAAiC,YAA7B,0BAAwB;;;;;6DAA5BC,UAAiC,EACtBC,MAAA,CAAAC,QAAQ,CAACC,MAAM,I,cAA1BC,mBAAA,CAME,OAAAC,UAAA,I,kBALFD,mBAAA,CAIME,SAAA,QAAAC,WAAA,CAJuBN,MAAA,CAAAC,QAAQ,EAAzBM,aAAa;yBAAzBJ,mBAAA,CAIM,e,kBAHFA,mBAAA,CAEME,SAAA,QAAAC,WAAA,CAFiBC,aAAa,EAAxBC,OAAO;2BAAnBL,mBAAA,CAEM,aAAAM,gBAAA,CADCD,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}